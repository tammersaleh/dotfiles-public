set wildmenu

" Term scrolling
function! TSExitNormalMode()
  unmap <buffer> <silent> <LeftMouse>
  unmap <buffer> <silent> <ESC>
  call feedkeys("a")
endfunction

function! TSEnterNormalMode()
  if &buftype == 'terminal' && mode('') == 't'
    call feedkeys("\<c-w>N")
    call feedkeys("\<c-y>")
    map <buffer> <silent> <LeftMouse> :call TSExitNormalMode()<CR>
    map <buffer> <silent> <ESC> :call TSExitNormalMode()<CR>
    setlocal nonumber
  endif
endfunction

tnoremap <silent> <C-u> <c-w>:call TSEnterNormalMode()<CR>


" vim: foldmethod=marker
