#!/usr/bin/env bash

set -euo pipefail
shopt -s inherit_errexit

_err_trap() {
  local lineno=$1
  local cmd=$2
  echo "$0 failed at line $lineno: $cmd"
}
trap '_err_trap ${LINENO} "$BASH_COMMAND"' ERR

main() {
  [[ $# -eq 3 ]] || usage "Expected three arguments, got $#"
  
}

usage() {
  [[ $# -gt 0 ]] && echo "ERROR: $*"
  local me=$(basename "$0")
  cat <<-EOF

  USAGE: $me ARGUMENT

  Explanation

  Examples:

    $me foo
	EOF
  exit 1
}

main "$@"

# cursor: 15 del
